# Интерфейс среды исполнения (RUS)
Втроенные функции 42sh, перменные среды, локальные переменные и всякие настройки относятся к общей среде исполнения командной оболочки. Все они находятся в переменной типа `ENV (t_env (struct s_env))`. Данная структура будет содержать асоциативные массивы выполненные в виде деревьев `t_avl_tree`. Среда исполнения *( далее **СИ** )*, должна содержать как минимум словарь (ассоциативный массив / АВЛ-дерево) глобальных переменных, локальных переменных, встроенных функций, и внешних функций.

# Постановка задачи
Задача состоит в создании удобного интерфейса **СИ**. Он должен быть надежен и безопасен в использовании, лишен утечек и ошибок чтения, записи и исполнения памяти.

Так-же стоит реализовать список встроенных команд командной оболочки для использования конечным пользователем.

# Функции интерфейса СИ
Функции будут использованы для доступа из различных модулей командной оболочки, в основу значений переменных взять динамические паскаль-строки из **LIBFT**.

> `get_variable(const char *key, ENV *enviroment) -> DSTRING *`  
**Возвращает дубликат значения перменной среды.**  
*Сначала ищет переменную в локальном окружении переменных, затем в глобальном окружении. Выделяет память на копию значения, что-бы не повредить сам узел дерева. Если память не выделилась возвращает (`0`), если переменная не нашлась возвращает пустую строку (`"\0"`)*

> `set_variable(const char *key, DSTRING *value, ENV *enviroment) -> int`  
**Добавляет или изменяет существующую переменную в среду.**  
*Если переменная существует в локальном или глобальном окружении, то изменяет ее, если нет, то добавляет ее в локальное окружение. Если произошла ошибка выделения памяти, то возвращает (`-1`), если переменная добавлена или успешно изменена, то возвращает (`1`). Остальные коды ошибок на усмотрение.*

> `unset_variable(const char *key, ENV *enviroment) -> int`  
**Удаляет переменную и очищает её память.**  
*Ищет в глобальном и в локальном окружении переменную по ключу и удаляет её. Если переменная не найдена, то вернуть (`0`), если переменная успешно удаленна, то возвращает (`1`).*

> `clear_env(ENV *enviroment) -> void`  
**Очищает всю среду исполнения**  
*Удаляет словари переменных, внешних функций и прочего.*

# Втроенные функции командной оболочки

> `setenv varname varvalue;`  
**Добавляет новую глобальную переменную или изменяет уже существующую с ключом $varname и значением $varvalue.**  
*Возвращает статус (`0`) в случае успеха. В случае ошибки возвращает (`210`), если ошибка памяти. Возвращает (`242`) если такая переменная существует в локальном окружении. Если $varvalue отсутствует или равна пустой строке, то ставит ее значение становится пустой строкой.*

> `getenv varname;`  
**Выводит в стандартный вывод значение глобальной переменной с ключом $varname.**  
*Возвращает статус (`0`) в случае успеха. Возвращает (`242`) если такая переменная существует в локальном окружении. Если аргументы отсутствуют, то работает как `(env)`.*

> `env;`  
**Выводит в стандартный вывод значение всех глобальных переменных в формате ключ=значение.**  
*Возвращает статус (`0`) в случае успеха. Возвращает (`210`) если ошибка памяти.*

> `unsetenv varname;`  
**Удаляет глобальную переменную.**  
*Возвращает статус (`0`) в случае успеха. Если аргументов нет, то возвращает код (`200`). Возвращает (`242`) если такая переменная существует в локальном окружении.*

> `alias al_name="al value lol kek";`  
**СОЗДАНИЕ АЛИАСОВ, ЧИТАТЬ В МАНУАЛАХ**

> `exit status`  
**Завершает выполнение оболочки со статусом выхода $status**  
*Очищает всю СИ. Если статус не определен пользователем, то возвращает (`1`).*

> `cd`  
**ЧИТАТЬ В МАНУАЛАХ**

> `echo`  
**ЧИТАТЬ В МАНУАЛАХ**

> `pwd`  
**МАНУАЛ**

> `pwd`  
**МАНУАЛ**

> `unset`  
**GOOGLE**
